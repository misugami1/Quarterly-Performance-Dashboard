<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AOP Management System â€“ BatStateU</title>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700;800&family=Barlow:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="loading-overlay" id="loading">
  <div class="spinner"></div>
</div>

<div class="toast" id="toast"></div>

<div id="page-login" class="active" style="display:flex;flex-direction:column;">
  <div class="login-header">
    <img src="images/logo.png" alt="BatStateU" style="background:#fff; padding:4px; height: 52px; width: 52px; border-radius: 50%; object-fit: contain;"/>
    <div class="hd-text">
      <h1>Batangas State University</h1>
      <p>The National Engineering University Â· Leading Innovations, Transforming Lives</p>
    </div>
  </div>
  <div class="login-body">
    <div class="login-card">
      <h2>AOP Management System</h2>
      <div class="error-msg" id="login-error">Invalid email or password.</div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="login-email" placeholder="you@batstate-u.edu.ph"/>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" id="login-password" placeholder="Password"/>
      </div>
      <div class="forgot-link"><a href="#">Forgot password?</a></div>
      <button class="btn-primary" onclick="doLogin()">Sign In</button>
      <div class="divider">or</div>
      <button class="btn-google" onclick="doLogin()">
        <svg viewBox="0 0 48 48"><path fill="#FFC107" d="M43.6 20H24v8h11.3C33.6 33 29.3 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 7.9 3l5.7-5.7C34.4 6.5 29.5 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20c11 0 20-9 20-20 0-1.3-.1-2.7-.4-4z"/><path fill="#FF3D00" d="M6.3 14.7l6.6 4.8C14.5 15.1 18.9 12 24 12c3 0 5.8 1.1 7.9 3l5.7-5.7C34.4 6.5 29.5 4 24 4 16.3 4 9.7 8.3 6.3 14.7z"/><path fill="#4CAF50" d="M24 44c5.2 0 10-2 13.6-5.2l-6.3-5.2C29.3 35.2 26.8 36 24 36c-5.2 0-9.6-3-11.3-7.5l-6.5 5C9.7 39.6 16.3 44 24 44z"/><path fill="#1976D2" d="M43.6 20H24v8h11.3c-.7 2-2.1 3.7-3.8 4.9l6.3 5.2C42.6 34.6 44 29.6 44 24c0-1.3-.1-2.7-.4-4z"/></svg>
        Continue with Google
      </button>
      
      <div class="no-account" style="margin-top: 15px;">
         No account? <a href="#" onclick="showPage('page-register')">Create an account</a>
      </div>
    </div>
  </div>
</div>
<div id="page-register" class="page">
  <div class="login-header">
    <img src="images/logo.png"/>
    <div class="hd-text">
      <h1>Batangas State University</h1>
      <p>AOP Management System</p>
    </div>
  </div>

  <div class="login-body">
    <div class="login-card">
      <h2>Create Account</h2>

      <div class="error-msg" id="register-error"></div>

      <div class="form-group">
        <label>Name</label>
        <input type="text" id="register-name" placeholder="Full Name"/>
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" id="register-email" placeholder="Email"/>
      </div>

      <div class="form-group">
        <label>Password</label>
        <input type="password" id="register-password" placeholder="Password"/>
      </div>

      <button class="btn-primary" onclick="doRegister()">Register</button>

      <div class="no-account">
        Already have an account?
        <a href="#" onclick="showPage('page-login')">Login</a>
      </div>
    </div>
  </div>
</div>

<div id="page-home" class="page">
  <nav class="topnav">
    <img src="images/logo.png" alt="BatStateU" style="height: 40px; width: 40px; border-radius: 50%; object-fit: contain;"/>
    <div>
      <div class="nav-title">AOP Management System</div>
      <div class="nav-sub">Batangas State University</div>
    </div>
    <button class="btn-home" onclick="logout()">Logout</button>
  </nav>
  <div style="background:linear-gradient(135deg,#7f0000,#b71c1c 50%,#e65100);padding:52px 24px;text-align:center;color:#fff;position:relative;overflow:hidden;">
    <div style="position:absolute;inset:0;background:url('https://batstateu.edu.ph/wp-content/uploads/2020/11/Alangilan-entrance-facade.jpg') center/cover;opacity:0.12;"></div>
    <div style="position:relative;z-index:1;">
      <h2 style="font-family:'Barlow Condensed',sans-serif;font-size:2.2rem;font-weight:800;text-transform:uppercase;letter-spacing:0.08em;">Welcome to AOP Management System</h2>
      <p style="font-size:0.85rem;opacity:0.75;margin-top:8px;letter-spacing:0.1em;text-transform:uppercase;">Annual Operational Plan Â· FY 2026</p>
    </div>
  </div>
  <div style="display:flex;gap:24px;padding:32px 24px;max-width:900px;margin:0 auto;width:100%;flex-wrap:wrap;">
    <div style="flex:1;min-width:220px;display:flex;flex-direction:column;gap:10px;">
      <div style="background:#fff;border-left:4px solid #b71c1c;border-radius:8px;padding:14px;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
        <div style="background:#b71c1c;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-weight:700;flex-shrink:0;">1</div>
        <p style="font-size:0.82rem;font-weight:600;color:#757575;text-transform:uppercase;letter-spacing:0.06em;">Create Plan</p>
      </div>
      <div style="background:#fff;border-left:4px solid #b71c1c;border-radius:8px;padding:14px;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
        <div style="background:#b71c1c;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-weight:700;flex-shrink:0;">2</div>
        <p style="font-size:0.82rem;font-weight:600;color:#757575;text-transform:uppercase;letter-spacing:0.06em;">Check Records</p>
      </div>
      <div style="background:#fff;border-left:4px solid #b71c1c;border-radius:8px;padding:14px;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
        <div style="background:#b71c1c;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-weight:700;flex-shrink:0;">3</div>
        <p style="font-size:0.82rem;font-weight:600;color:#757575;text-transform:uppercase;letter-spacing:0.06em;">Update Record if Needed</p>
      </div>
      <div style="background:#fff;border-left:4px solid #b71c1c;border-radius:8px;padding:14px;display:flex;align-items:center;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
        <div style="background:#b71c1c;color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-weight:700;flex-shrink:0;">4</div>
        <p style="font-size:0.82rem;font-weight:600;color:#757575;text-transform:uppercase;letter-spacing:0.06em;">View Dashboard</p>
      </div>
    </div>
    <div style="flex:1;min-width:220px;display:flex;flex-direction:column;gap:14px;justify-content:center;">
      <button class="btn-menu" onclick="showPage('page-create')">â• &nbsp; Create New Plan</button>
      <button class="btn-menu" onclick="showPage('page-records');loadRecords()">ğŸ“‹ &nbsp; Manage & Update Records</button>
      <button class="btn-menu" onclick="showPage('page-dashboard');loadDashboard()">ğŸ“Š &nbsp; View Dashboard</button>
    </div>
  </div>
</div>

<div id="page-create" class="page">
  <nav class="topnav">
    <img src="images/logo.png" alt="BatStateU" onerror="this.style.opacity='0'"/>
    <div><div class="nav-title">Create New Operational Plan</div><div class="nav-sub">AOP Management System</div></div>
    <button class="btn-home" onclick="showPage('page-home')">ğŸ  Home</button>
  </nav>
  <div class="content" id="create-content">
    </div>
</div>

<div id="page-records" class="page">
  <nav class="topnav">
    <img src="images/logo.png" alt="BatStateU" onerror="this.style.opacity='0'"/>
    <div><div class="nav-title">Manage & Update Records</div><div class="nav-sub">AOP Management System</div></div>
    <button class="btn-home" onclick="showPage('page-home')">ğŸ  Home</button>
  </nav>
  <div class="content" id="records-content">
    </div>
</div>

<div id="page-update" class="page">
  <nav class="topnav">
    <img src="images/logo.png" alt="BatStateU" onerror="this.style.opacity='0'"/>
    <div><div class="nav-title">Manage & Update Records</div><div class="nav-sub">AOP Management System</div></div>
    <button class="btn-home" onclick="showPage('page-records');loadRecords()">â—€ Back</button>
  </nav>
  <div class="content" id="update-content">
    </div>
</div>

<div id="page-dashboard" class="page">
  <nav class="topnav">
    <img src="images/logo.png" alt="BatStateU" onerror="this.style.opacity='0'"/>
    <div><div class="nav-title">AOP Dashboard</div><div class="nav-sub">College of Engineering â€“ Alangilan Campus</div></div>
    <button class="btn-home" onclick="showPage('page-home')">ğŸ  Home</button>
  </nav>
  <div class="dashboard-header-bar">AOP Dashboard â€“ College of Engineering (Alangilan Campus)</div>
  <div class="content" id="dashboard-content">
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="script.js"></script>
</body>
</html>